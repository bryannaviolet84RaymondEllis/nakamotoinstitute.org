<!-- extend base layout -->
{% extends "doc.html" %}
{% block doc %}
<div class="col-sm-6 col-sm-offset-3 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3">
  <div class="page-header">
    <h1 class="text-center">
      Financial Cryptography in 7 Layers<br><small>Ian Grigg<sup><a href="#fn1" id="ref1">[1]</a><a href="#fn2" id="ref2">[2]</a></sup></small>
    </h1>
    <h4 class="text-center">
      1998 - 2000
    </h4>
  </div>

  <h2>Abstract</h2>

  <p>
    <strong>Abstract:</strong> Financial Cryptography is substantially complex, requiring skills drawn from diverse and incompatible, or at least, unfriendly, disciplines. Caught between Central Banking and Cryptography, or between accountants and programmers, there is a grave danger that efforts to construct Financial Cryptography systems will simplify or omit critical disciplines.
  </p>

  <p>
    This paper presents a model that seeks to encompass the breadth of Financial Cryptography (at the clear expense of the depth of each area). By placing each discipline into a seven layer model of introductory nature, where the relationship between each adjacent layer is clear, this model should assist project, managerial and requirements people.
  </p>

  <p>
    Whilst this model is presented as efficacious, there are limits to any model. This one does not propose a methodology for design, nor a checklist for protocols. Further, given the young heritage of the model, and of the field itself, it should be taken as a hint of complexity rather than a defining guide. 
  </p>

  <h2>Introduction</h2>

  <p>
    Financial Cryptography is substantially complex<sup><a href="#fn3" id="ref3">[3]</a></sup>. For a field that is nominally only half a decade old, by some viewpoints, it is apparent from the implementation work that has been done that many more aspects were involved than envisaged by early pioneers. 
  </p>

  <p>
    Financial Cryptography appears to be a science, or perhaps an art, that sits at the intersection of many previously unrelated disciplines:
  </p>

  <ul>
    <li>Accountancy and Auditing</li>
    <li>Programming</li>
    <li>Systems Architecture</li>
    <li>Cryptography</li>
    <li>Economics</li>
    <li>Internet</li>
    <li>Security</li>
    <li>Finance and Banking</li>
    <li>Risk</li>
    <li>Marketing and Distribution</li>
    <li>Central Banking<sup><a href="#fn4" id="ref4">[4]</a></sup></li>
  </ul>

  <p>
    At such a busy juncture of so many distinctive bases of knowledge, problems are bound to arise. Not only the inevitable confusion and wasted resources, but the difficulty in acquiring technical, management and marketing talent that can comfortably work in the field is an issue.
  </p>

  <p>
    As a preliminary step to the better understanding of Financial Cryptography projects, it is often of some interest to structure these disciplines into models that aid dialogue, comparisons and decision making.
  </p>

  <p>
    This paper presents one such model that attempts to describe the field in an introductory manner, as a preamble to greater learning. In this model, the terms Finance and Cryptography are stretched out in order to reveal the disciplines that might have been hidden within the name.
  </p>

  <p>
    Of course, no one model can plausibly cover the depth and breadth of a complex subject. The intent of this present model is to allow the reader to conceptualise the entire field, identifying the relationships of the disciplines, without spending too much time on the detailed nature of each component. Depth is sacrificed for breadth. 
  </p>

  <h2>The 7 Layer Model</h2>

  <p>
     This paper introduces a 7 layer model, akin to the Open Systems Interconnect Reference Model of networking fame, as shown in Figure 1<sup><a href="#fn5" id="ref5">[5]</a><a href="#fn6" id="ref6">[6]</a></sup>. In this model, Finance and Cryptography are stretched out, revealing five more areas of interest.
  </p>

  <table class="table table-bordered">
    <caption class="text-center"><strong>Figure 1:</strong> Financial Cryptography in 7 Layers </caption>
    <tr>
      <td>
        7. Finance
      </td>
      <td>
        Applications for financial users, issuers of digital value, and trading and market operations
      </td>
    </tr>
    <tr>
      <td>
        6. Value
      </td>
      <td>
        Instruments that carry monetary or other value.
      </td>
    </tr>
    <tr>
      <td>
        5. Governance
      </td>
      <td>
        Protection of the system from non-technical threats.
      </td>
    </tr>
    <tr>
      <td>
        4. Accounting
      </td>
      <td>
        Framework that contains value within defined and manageable places.
      </td>
    </tr>
    <tr>
      <td>
        3. Rights
      </td>
      <td>
        An authentication concept, with ownership allocated to unit-value, and methods of moving unit-values between unit-identities.
      </td>
    </tr>
    <tr>
      <td>
        2. Software Engineering
      </td>
      <td>
        The tools to move instructions over the net, and hold numbers and information reliably constant on nodes.
      </td>
    </tr>
    <tr>
      <td>
        1. Cryptography
      </td>
      <td>
        Mathematical techniques to state certain truths that could be shared between parties for passing value.
      </td>
    </tr>
  </table>

  <p>
    An advantage of this model is traversal from the technical to the application, giving major stakeholders easy points of entry.
  </p>

  <p>
    We can start at the top, the Finance layer, and work top-down; this is a process of mapping requirements and following them down into lower layers. This might be the place to start if engaged in high-level application discussions.
  </p>

  <p>
    Or, we can start at the bottom, the Cryptography layer, and describe tool kits to offer the higher layers. From ever more sophisticated lower layers, we can build our way up to offering a smorgasboard of options to the all-encompassing financial applications layer.
  </p>

  <p>
    Here, we choose a descriptive presentation that traverses bottom-to-top. Later, an <a href="#example">example</a> is presented in the reverse order, top-to-bottom. 
  </p>

  <h2>Cryptography</h2>

  <p>
    At the bottom is Cryptography<sup><a href="#fn7" id="ref7">[7]</a></sup>. To some extent, the pure science domain of cryptography solves problems in a mathematical sense only, but it delivers useful properties, including:
  </p>

  <ul>
    <li>Confidentiality - encryption algorithms</li>
    <li>Integrity - hashes and message digests</li>
    <li>Authentication - digital signatures, hash chains</li>
  </ul>

  <p>
    Cryptography also can solve special problems, when correctly formulated<sup><a href="#fn8" id="ref8">[8]</a></sup>. For example, how can Alice sign a statement of Bob's without being aware of the contents of the statement<sup><a href="#fn9" id="ref9">[9]</a></sup>?
  </p>

  <h2>Software Engineering</h2>

  <p>
    It takes Software Engineering, layer 2, to usefully benefit from the properties of cryptography. We draw from database theory (atomicity, transactional integrity and recovery) and networking theory (feedback and idempotency) in order to add such properties as reliability and robustness in the face of network and nodal unreliability, or, designed unavailability such as smart cards and handhelds<sup><a href="#fn10" id="ref10">[10]</a><a href="#fn11" id="ref11">[11]</a></sup>.
  </p>

  <p>
    Software engineering provides us with a practical network. We can talk about sending a message across an open network and know that a message will eventually get to the addressee. With the integrity techniques of the previous layer, we can know that the information received by the addressee is as intended by the addressor. By using the specialised sequences of database theory, we can preserve the integrity of the messages over time, in the face of software and hardware failure. 
  </p>

  <h2>Rights</h2>

  <p>
    With both cryptography and software engineering providing a network upon which we can rely, we can think about distributing messages that are designed to Financial Cryptographic purposes<sup><a href="#fn12" id="ref12">[12]</a></sup>. In the Rights layer, we are looking for a protocol that provides a user with control over assets, in an unequivocable, determinable fashion<sup><a href="#fn13" id="ref13">[13]</a></sup>. Techniques aimed at achieving this include:
  </p>

  <ul>
    <li>
      <p>
        Identity-based systems, such as those operated by banks. Generally, such systems are based on the supply (to an existing account holder) of an account number and password that can access the user's account via an SSL-encrypted web page<sup><a href="#fn14" id="ref14">[14]</a></sup>.
      </p>
    </li>

    <li>
      <p>
        Token Money that emulates the bearer cash instruments with which consumers are familiar<sup><a href="#fn15" id="ref15">[15]</a></sup>.
      </p>
    </li>

    <li>
      <p>
        Transport mechanisms for other payment systems, such as the use of SSL-based systems to carry credit card information.
      </p>
    </li>

    <li>
      <p>
        Hybrid systems, that eschew emulation in favour of bottom-up solutions more in tune with the power and limitations of the network. For example, <a href="#ex3">SOX</a> is such a system, presented in the next <a href="#example">section</a><sup><a href="#fn16" id="ref16">[16]</a></sup>. A variation on this theme of environmental empathy, the <a href="http://www.erights.org/">E language</a> is built from powerful capabilities concepts, and can thus be easily turned to Financial Cryptography<sup><a href="#fn17" id="ref17">[17]</a></sup>.
      </p>
    </li>

    <li>
      <p>
        Hardware-based solutions, such as smart cards<sup><a href="#fn18" id="ref18">[18]</a></sup>.
      </p>
    </li>
  </ul>

  <p>
    although this is not an exclusive list<sup><a href="#fn19" id="ref19">[19]</a><a href="#fn20" id="ref20">[20]</a></sup>.
  </p>

  <h2>Accounting</h2>

  <p>
    The previous layers provide methods reliable enough to be used for passing something of value, which we call rights, over an otherwise unsuitable network. Now, we need the techniques of Accounting in order to store and manage rights over time, To financial cryptographers, accounting is a mundane field, and it has perhaps been attractive to ignore it, but experience shows that systems without conventional accounting features tend to lose the value entrusted to them.
  </p>

  <p>
    The techniques of the accounting discipline include double-entry bookkeeping, balance sheets, and the accounting equation<sup><a href="#fn21" id="ref21">[21]</a></sup>. Accounting concepts permit builders of Financial Cryptography systems to build complex systems that guarantee not to lose value as long as everyone follows the rules; and to efficiently identify where the rules are not followed.
  </p>

  <p>
    The above layer, Rights, defines what needs to be accounted for. As an example, the most basic method would be token money. An accounting model based on tokens or coins would need a simple store of coins for the client. The server would be more complex, requiring an account for unissued value, a float account, and a double spend database that matches the float amount<sup><a href="#fn22" id="ref22">[22]</a></sup>.
  </p>

  <h2>Governance</h2>

  <p>
    Once there is a guarantee that the digital amounts &ndash; the accounting numbers &ndash; under management can be securely passed over the net, and stored on nodes safely, we need to cast our view wider to threats outside the technical domain<sup><a href="#fn23" id="ref23">[23]</a></sup>. 
  </p>

  <p>
    In any working technology, whether it be trading or cash purchasing, the threat of theft or abuse exists from parties who are trusted to manage the system. This problem, known as the <em>agency problem</em>, can be overcome with a wide variety of techniques that here I will label <em>governance</em><sup><a href="#fn24" id="ref24">[24]</a></sup>. 
  </p>

  <p>
    Governance includes these techniques:
  </p>

  <ul>
    <li>
      Escrow of value with trusted third parties. For example, funds underlying a dollar currency would be placed in a bank account.
    </li>

    <li>
      Separation of powers: routine management from value creation, authentication from accounting, systems from marketing<sup><a href="#fn25" id="ref25">[25]</a><a href="#fn26" id="ref26">[26]</a><a href="#fn27" id="ref27">[27]</a></sup>.
    </li>
  </ul>

  <h2>References</h2>

  <ol>
    <li id="fn1">
      <p>
        Ian Grigg can be reached at iang <em>at</em> systemics <em>dot</em> com. He is a founder of Systemics, Inc, a developer of Internet Financial Systems software.&nbsp;<a href="#ref1">↩</a>
      </p>
    </li>

    <li id="fn2">
      <p>
        This paper was presented at <a href="http://fc00.ai/">FC00</a> and is originally published in the Proceedings of <em>Financial Cryptography Fourth International Conference</em>, Anguilla, British West Indies, 21st - 24th February 2000. A web copy is located at <a href="http://www.iang.org/papers/">http://www.iang.org/papers/</a>.
      </p>
      <p>
        The model was initially inspired by discussions on the <a href="http://www.philodox.com/">DBS mailing list</a>, and was progressively refined in discussions with Twan Van Der Schoot. This paper has also benefitted from review remarks by Ian Brown, Zooko Journeyman and Rachel Willmer.&nbsp;<a href="#ref2">↩</a>
      </p>
    </li>

    <li id="fn3">
      <p>
        The term Financial Cryptography was invented by Robert Hettinga as a name for a conference held annually in Anguilla.&nbsp;<a href="#ref3">↩</a>
      </p>
    </li>

    <li id="fn4">
      <p>
        Ian Grigg, <a href="http://www.live.co.uk/Ftvfr.htm">Virtual Finance Report</a>, <a href="http://www.iang.org/papers/digital_trading.html#e_team">Digital Trading</a>, <a href="http://www.live.co.uk/ftvfr1197.htm">November 1997</a>.&nbsp;<a href="#ref4">↩</a>
      </p>
    </li>

    <li id="fn5">
      <p>
        Search on <a href="http://www.google.com/">Google</a> for <a href="http://www.google.com/search?q=ISO+OSI+Reference+Model+Seven+layer+network+model&amp;num=10&amp;meta=hl%3Den%26lr%3D&amp;safe=off">ISO OSI Reference Model Seven Layer</a>&nbsp;<a href="#ref5">↩</a>
      </p>
    </li>

    <li id="fn6">Check any basic accounting text book for these terms. Google may provide some assistance on these terms
      <p>
        It is mostly coincidence that there are 7 layers, and it may change if we find compelling reasons to add or subtract layers.</a>&nbsp;<a href="#ref6">↩</a>
      </p>
    </li>

    <li id="fn7">
      <p>
        The Cryptix <a href="http://www.cryptix.org/resources.html">Resources Page</a> lists popular cryptography books, including links for purchasing.&nbsp;<a href="#ref7">↩</a>
      </p>
    </li>

    <li id="fn8">
      <p>
        A large area of such problems, including the blinding property, is described in <a href="http://www.xs4all.nl/~brands/">Rethinking public key infrastructures and digital certificates --- building in privacy</a> Stefan Brands, ISBN 90-901-3059-4, 1999.&nbsp;<a href="#ref8">↩</a>
      </p>
    </li>

    <li id="fn9">
      <p>
        The blinding concept is most easily accessible in <a href="http://ntrg.cs.tcd.ie/mepeirce/Project/Chaum/sciam.html">Achieving Electronic Privacy</a> Scientific American David Chaum, August 1992.&nbsp;<a href="#ref9">↩</a>
      </p>
    </li>

    <li id="fn10">
      <p>
        <em>An Introduction to Database Systems, Volume 2</em>, by C.J Date, 6th Edition, Addison Wesley, 1995&nbsp;<a href="#ref10">↩</a>
      </p>
    </li>

    <li id="fn11">
      <p>
        I studied with this text book nigh on 20 years ago, and it still appears to be the main text in the field of protocols and networking: <em>Computer Networks</em>, by Andrew S. Tannenbaum, 3rd ed., Prentice Hall, 1996&nbsp;<a href="#ref11">↩</a>
      </p>
    </li>

    <li id="fn12">
      <p>
        A fullsome page of links to electronic purses &ndash; implementations of Rights protocols &ndash; is included in <a href="http://cfec.vub.ac.be/cfec/purses.htm">Leo Van Hove's bibliography.</a>&nbsp;<a href="#ref12">↩</a>
      </p>
    </li>

    <li id="fn13">
      <p>
         I am indebted to Mark Miller for providing me with the name of this layer.&nbsp;<a href="#ref13">↩</a>
      </p>
    </li>

    <li id="fn14">
      <p>
         At the time of writing, the canonical example would be <a href="http://www.e-gold.com/e-gold.asp?cid=101936">www.e-gold.com</a> which provides identity-based access to currencies reserved in precious metals.&nbsp;<a href="#ref14">↩</a>
      </p>
    </li>

    <li id="fn15">
      <p>
        For example, the eCash (tm) tokens as implemented by <a href="http://www.ecashtechnologies.com/">eCash Technologies, Inc</a>.&nbsp;<a href="#ref15">↩</a>
      </p>
    </li>

    <li id="fn16">
      <p>
        Originally presented in the Gary Howland, <a href="http://www.systemics.com/docs/sox/overview.html">Development of an Open and Flexible Payment System</a>.&nbsp;<a href="#ref16">↩</a>
      </p>
    </li>

    <li id="fn17">
      <p>
        Mark S. Miller, Chip Morningstar, Bill Frantz, <a href="http://www.erights.org/elib/capability/ode/index.html">Capability-based Financial Instruments</a>, accepted by <a href="http://www.fc00.ai/">Financial Cryptography 2000,</a> Anguilla, February 2000.&nbsp;<a href="#ref17">↩</a>
      </p>
    </li>

    <li id="fn18">
      <p>
        Systems such as <a href="http://www.chipper.com/">Chipper</a> and <a href="http://www.mondex.com/">Mondex</a>. Note that there is no need for a new hardware layer &ndash; the distinction here is that the hardware is supplied, rather than assumed.&nbsp;<a href="#ref18">↩</a>
      </p>
    </li>

    <li id="fn19">
      <p>
        For many more examples of theoretical approaches, see <a href="http://www.ifca.ai/">Financial Cryptography</a> First through Fourth International Conferences, Anguilla, British West Indies, February 1997-2000.&nbsp;<a href="#ref19">↩</a>
      </p>
    </li>

    <li id="fn20">
      <p>
        For examples of approaches that have reached practical implementation stage, if not to market, see <a href="http://www.efce.net/">Edinburgh Financial Cryptography Engineering</a> a new workshop that includes presentations of running code only.&nbsp;<a href="#ref20">↩</a>
      </p>
    </li>

    <li id="fn21">
      <p>
        Check any basic accounting text book for these terms. <a href="http://www.google.com">Google</a> may provide some assistance on these terms.&nbsp;<a href="#ref21">↩</a>
      </p>
    </li>

    <li id="fn22">
      <p>
        As a wider comment, it is possible to model any electronic value scheme as a method of accounting. See Alan Tyree, <a href="http://www.law.usyd.edu.au/~alant/svc-legal.html">The legal nature of electronic money</a>.
      </p>

      <p>
        Whilst a valuable modelling exercise, caution is advised, as most conclusions drawn from such exercises are too broad. Specifically, institutional observers tend towards a line of logic: "it can be modelled as a series of accounts, therefore it should be regulated like banking;" such an approach is fraught with difficulties and unlikely to be satisfactory.&nbsp;<a href="#ref22">↩</a>
      </p>
    </li>

    <li id="fn23">
      <p>
        For general articles on the Governance aspects of Financial Cryptography, check John Muller's ABA site <a href="http://www.abanet.org/buslaw/efss/">Electronic Financial Services Resources</a>.&nbsp;<a href="#ref23">↩</a>
      </p>
    </li>

    <li id="fn24">
      <p>
        The Agency Problem:
      </p>

      <blockquote>
        <p>
          Also sometimes referred to as the principal-agent problem. The difficult but extremely important and recurrent organizational design problem of how organizations can structure incentives so that people ("agents") who are placed in control over resources that are not their own with a contractual obligation to use these resources in the interests of some other person or group of people actually will perform this obligation as promised &ndash; instead of using their delegated authority over other people's resources to feather their own nests at the expense of those whose interests they are supposed to be serving (their "principals"). Enforcing such contracts will involve transaction costs (often referred to as agency costs), and these costs may sometimes be very high indeed. 
        </p>
      </blockquote>

      <p>
        <a href="http://www.auburn.edu/~johnspm/gloss/index.html">A Glossary of Political Economy Terms</a> Paul M. Johnson. See also <a href="http://www.google.com/search?q=%22agency+problem%22&amp;start=10&amp;sa=N"> Google</a>.&nbsp;<a href="#ref24">↩</a>
      </p>
    </li>

    <li id="fn25">
      <p>
        Michael Froomkin's writings on <a href="http://personal.law.miami.edu/~froomkin/#SOP">Separation of Powers</a>.&nbsp;<a href="#ref25">↩</a>
      </p>
    </li>

    <li id="fn26">
      <p>
        Robert Hettinga suggests some models in <a href="http://www.philodox.com/modelpaper.html">The Players</a>&nbsp;<a href="#ref26">↩</a>
      </p>
    </li>

    <li id="fn27">
      <p>
        In <a href="http://www.systemics.com/docs/ricardo/issuer/FAQ.html#governance">Ricardo documentation</a>, and also further below in the section on <a href="#structural">Structural Governance</a> I suggest breaking up the system into 5 parties, Owner, Mint, Manager, Users, Operator.&nbsp;<a href="#ref27">↩</a>
      </p>
    </li>
  </ol>
{% endblock %} 