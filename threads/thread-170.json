[
    {
        "thread_id": 170,
        "name": "lfm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=466",
        "subject": "bitcoin generation broken in 0.3.8?  (64-bit)",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8191#msg8191",
        "date": "August 08, 2010, 03:06:59 AM",
        "content": "<div class=\"post\">I was starting to wonder when my systems seemed to quit generating coins if there was something going on. They went from about 1 block / day to none in a week.<br/><br/>ArtForz in irc suggested I run a test isolated net with two nodes only connected to each other with empty wallet dir. I took a couple of quad core systems and set them up. they have produced no blocks in about 90 minutes now while hashing at a combined rate of over 8000 khash/sec. Is this evidence of a problem yet or is it more bad luck?<br/><br/>The systems are Linux 64 bit one Intel quad q6600 and one AMD quad phenom II 940.<br/><br/></div>",
        "post_num": 1,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "FreeMoney",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=381",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8193#msg8193",
        "date": "August 08, 2010, 03:09:03 AM",
        "content": "<div class=\"post\">The difficulty went up again just after 3.8 was out. I have not gotten any with 4000khash in about 15 days, so 90 minutes of 8000k doesn't mean much. I'm sure we'd know if 3.8 wasn't generating any blocks.</div>",
        "post_num": 2,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lfm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=466",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8194#msg8194",
        "date": "August 08, 2010, 03:13:09 AM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8193#msg8193\">Quote from: FreeMoney on August 08, 2010, 03:09:03 AM</a></div><div class=\"quote\">The difficulty went up again just after 3.8 was out. I have not gotten any with 4000khash in about 15 days, so 90 minutes of 8000k doesn't mean much. I'm sure we'd know if 3.8 wasn't generating any blocks.<br/></div><br/><br/>This is on an isolated test net with just two machines, connections = 1, difficulty = 1<br/></div>",
        "post_num": 3,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lfm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=466",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8196#msg8196",
        "date": "August 08, 2010, 03:14:54 AM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8193#msg8193\">Quote from: FreeMoney on August 08, 2010, 03:09:03 AM</a></div><div class=\"quote\">The difficulty went up again just after 3.8 was out. I have not gotten any with 4000khash in about 15 days, so 90 minutes of 8000k doesn't mean much. I'm sure we'd know if 3.8 wasn't generating any blocks.<br/></div><br/>maybe only a problem with 64 bit linux or something<br/><br/></div>",
        "post_num": 4,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "knightmb",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=345",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8198#msg8198",
        "date": "August 08, 2010, 03:24:29 AM",
        "content": "<div class=\"post\">I haven't had any problems with 0.3.8 release, generated some coin on windows and Linux clients (32/64)bit just fine this week.</div>",
        "post_num": 5,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "FreeMoney",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=381",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8199#msg8199",
        "date": "August 08, 2010, 03:38:21 AM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8194#msg8194\">Quote from: lfm on August 08, 2010, 03:13:09 AM</a></div><div class=\"quote\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8193#msg8193\">Quote from: FreeMoney on August 08, 2010, 03:09:03 AM</a></div><div class=\"quote\">The difficulty went up again just after 3.8 was out. I have not gotten any with 4000khash in about 15 days, so 90 minutes of 8000k doesn't mean much. I'm sure we'd know if 3.8 wasn't generating any blocks.<br/></div><br/><br/>This is on an isolated test net with just two machines, connections = 1, difficulty = 1<br/><br/></div><br/>Oh, that is odd then, that would be like not finding one in over 500 hours, possible I guess, but getting out there</div>",
        "post_num": 6,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lfm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=466",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8200#msg8200",
        "date": "August 08, 2010, 03:41:26 AM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8198#msg8198\">Quote from: knightmb on August 08, 2010, 03:24:29 AM</a></div><div class=\"quote\">I haven't had any problems with 0.3.8 release, generated some coin on windows and Linux clients (32/64)bit just fine this week.<br/></div><br/>I guess I want to know how long I need to run 8000 khash/s at difficulty 1.0 to have any reasonable evidence of a problem. ArtForz said it should tell me in an hour or so. <br/></div>",
        "post_num": 7,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "ArtForz",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=584",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8201#msg8201",
        "date": "August 08, 2010, 03:43:05 AM",
        "content": "<div class=\"post\">At ~ 8Mhash/s combined not generating a block at 1.0 diff in over 1h is pretty unlikely.<br/>As in, under 0.1% probability unlikely (50% is ~6 min, 1% ~42 min)<br/>&lt;edit&gt;<br/>Forgot to mention, he's running a custom compile of stock 0.3.8 sources.</div>",
        "post_num": 8,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lfm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=466",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8205#msg8205",
        "date": "August 08, 2010, 03:58:09 AM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8198#msg8198\">Quote from: knightmb on August 08, 2010, 03:24:29 AM</a></div><div class=\"quote\">I haven't had any problems with 0.3.8 release, generated some coin on windows and Linux clients (32/64)bit just fine this week.<br/></div><br/>I am wondering if its something odd in the way I have my systems set up or <img alt=\"Huh\" border=\"0\" src=\"https://bitcointalk.org/Smileys/default/huh.gif\"/> just various plain ubuntu installs so far as I know.<br/></div>",
        "post_num": 9,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lachesis",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=237",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8209#msg8209",
        "date": "August 08, 2010, 05:05:04 AM",
        "content": "<div class=\"post\">I'm having a similar problem with my own compile of the SVN trunk. I just reverted to the stock builds to test and see what happens. I should try setting up my own network of two nodes with my builds.</div>",
        "post_num": 10,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lfm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=466",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8218#msg8218",
        "date": "August 08, 2010, 07:18:55 AM",
        "content": "<div class=\"post\">Ok chatting with lachesis in irc he tried this and I get the same result: We added some prints in main.cpp at the SHA calls like so :<br/><br/><div class=\"codeheader\">Code:</div><div class=\"code\"> \u00a0 \u00a0 \u00a0 \u00a0loop<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0{<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0SHA256Transform(&amp;tmp.hash1, (char*)&amp;tmp.block + 64, &amp;midstate);<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0printf(\"mid hash =\\n\");<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0for (int i = 0; i &lt; 8; i++)<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0printf(\" %08x\", ((unsigned *)&amp;tmp.hash1)[i]);<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0printf(\"\\n\");<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0SHA256Transform(&amp;hash, &amp;tmp.hash1, pSHA256InitState);<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0printf(\"full hash =\\n\");<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0for (int i = 0; i &lt; 8; i++)<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0printf(\" %08x\", ((unsigned *)&amp;hash)[i]);<br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0printf(\"\\n\");<br/><br/>\u00a0\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0if (((unsigned short*)&amp;hash)[14] == 0)<br/></div><br/>and then in the log we get:<br/><br/>mid hash =<br/>\u00a06a09e667 bb67ae85 3c6ef372 a54ff53a 510e527f 9b05688c 1f83d9ab 5be0cd19<br/>full hash =<br/>\u00a06a09e667 bb67ae85 3c6ef372 a54ff53a 510e527f 9b05688c 1f83d9ab 5be0cd19<br/>mid hash =<br/>\u00a06a09e667 bb67ae85 3c6ef372 a54ff53a 510e527f 9b05688c 1f83d9ab 5be0cd19<br/>full hash =<br/>\u00a06a09e667 bb67ae85 3c6ef372 a54ff53a 510e527f 9b05688c 1f83d9ab 5be0cd19<br/><br/>repeating! The hash call isn't doing anything!<br/>(he maybe got a different repeating value, I don't know)<br/></div>",
        "post_num": 11,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "knightmb",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=345",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8219#msg8219",
        "date": "August 08, 2010, 07:20:20 AM",
        "content": "<div class=\"post\">There is one behavior that I've noticed.<br/><br/><b>Block sync stalling.</b><br/><br/>When the client (be it Windows or Linux) has been running for a few days, *sometimes* they get stuck in block limbo. What happens is your client keeps trying to solve the current block and loses track of the entire block system. So as time goes by, other blocks are solved and your PC is still stuck on the same block. The problem is, if you stop and restart the client, it just picks up where it left off on the same stuck block. The only way I've seen to fix this is to delete the block chain so that the client will re-download it.<br/><br/>I've had to clear out a few block chains for a few servers because of this, I'll notice they are stuck on block 70,000 for example, while the rest of the network is working on block 70,839 for example.<br/><br/>That might explain why you go weeks without winning a block with a 24/7 PC going.<br/><br/>The server farm I had running before were spitting out blocks all day, but now that I'm just down to a few dozen servers and the difficulty is way up, I barely see about 3 or 4 blocks a day spread across all of them. But I know the 0.3.8 version is working like it should, except for the occasional block freeze.</div>",
        "post_num": 12,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lfm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=466",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8226#msg8226",
        "date": "August 08, 2010, 10:32:32 AM",
        "content": "<div class=\"post\">This seems to be a different problem. The blocks do not seem to be \"stuck\" on my systems. The getinfo shows them up to date<br/><br/>It seems the sha256 code is not getting built right for linux 64. Not sure if/how it could work on some and not on others.<br/><br/><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8219#msg8219\">Quote from: knightmb on August 08, 2010, 07:20:20 AM</a></div><div class=\"quote\">There is one behavior that I've noticed.<br/><br/><b>Block sync stalling.</b><br/><br/>When the client (be it Windows or Linux) has been running for a few days, *sometimes* they get stuck in block limbo. What happens is your client keeps trying to solve the current block and loses track of the entire block system. So as time goes by, other blocks are solved and your PC is still stuck on the same block.<br/><br/>...<br/><br/></div></div>",
        "post_num": 13,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "tcatm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=592",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8230#msg8230",
        "date": "August 08, 2010, 11:56:54 AM",
        "content": "<div class=\"post\">Did you compile it yourself? There's a define in makefile.unix. Something like -DCRYPTOPP_DISABLE_SSE2. Remove that. Else the SHA256_Transform will return the initstate. I had the same problem when switchting to 0.3.6.</div>",
        "post_num": 14,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lfm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=466",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8233#msg8233",
        "date": "August 08, 2010, 01:13:30 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8230#msg8230\">Quote from: tcatm on August 08, 2010, 11:56:54 AM</a></div><div class=\"quote\">Did you compile it yourself? There's a define in makefile.unix. Something like -DCRYPTOPP_DISABLE_SSE2. Remove that. Else the SHA256_Transform will return the initstate. I had the same problem when switchting to 0.3.6.<br/></div><br/>That seems to be the root of the problem. I think even the bundled binary for Linux 64 in 0.3.8 was compiled wrong then.<br/><br/></div>",
        "post_num": 15,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lachesis",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=237",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8239#msg8239",
        "date": "August 08, 2010, 03:47:15 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8233#msg8233\">Quote from: lfm on August 08, 2010, 01:13:30 PM</a></div><div class=\"quote\">That seems to be the root of the problem. I think even the bundled binary for Linux 64 in 0.3.8 was compiled wrong then.<br/></div>That appears to fix it for me too. <br/><br/>EDIT:<br/>I've uploaded corrected Linux builds to <a href=\"http://www.alloscomp.com/bitcoin/binaries/release-r123-2010-08-08/\">http://www.alloscomp.com/bitcoin/binaries/release-r123-2010-08-08/</a>. Enjoy!</div>",
        "post_num": 16,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "knightmb",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=345",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8244#msg8244",
        "date": "August 08, 2010, 05:46:55 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8233#msg8233\">Quote from: lfm on August 08, 2010, 01:13:30 PM</a></div><div class=\"quote\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8230#msg8230\">Quote from: tcatm on August 08, 2010, 11:56:54 AM</a></div><div class=\"quote\">Did you compile it yourself? There's a define in makefile.unix. Something like -DCRYPTOPP_DISABLE_SSE2. Remove that. Else the SHA256_Transform will return the initstate. I had the same problem when switchting to 0.3.6.<br/></div><br/>That seems to be the root of the problem. I think even the bundled binary for Linux 64 in 0.3.8 was compiled wrong then.<br/></div><br/>I just tested it out, I get the same results. Repeating values with stock, more random values with the flag modification. Probably needs to be fixed for the next release, though I'm not sure how mine are generating anything then?</div>",
        "post_num": 17,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "nimnul",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=600",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8245#msg8245",
        "date": "August 08, 2010, 05:50:10 PM",
        "content": "<div class=\"post\">@lachesis: 404 not found<br/><br/>@knightmb: What about a fixed CentOS build?</div>",
        "post_num": 18,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "knightmb",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=345",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8246#msg8246",
        "date": "August 08, 2010, 05:56:09 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8245#msg8245\">Quote from: nimnul on August 08, 2010, 05:50:10 PM</a></div><div class=\"quote\">@lachesis: 404 not found<br/><br/>@knightmb: What about a fixed CentOS build?<br/></div>Should be simple enough for CentOS, I was going to test it out first to see if those suffered the same issue, thought it seems like all the builds would suffer this issue if the compile flag is what makes the difference.</div>",
        "post_num": 19,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "knightmb",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=345",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8248#msg8248",
        "date": "August 08, 2010, 06:06:20 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8226#msg8226\">Quote from: lfm on August 08, 2010, 10:32:32 AM</a></div><div class=\"quote\">This seems to be a different problem. The blocks do not seem to be \"stuck\" on my systems. The getinfo shows them up to date<br/><br/>It seems the sha256 code is not getting built right for linux 64. Not sure if/how it could work on some and not on others.<br/><br/><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8219#msg8219\">Quote from: knightmb on August 08, 2010, 07:20:20 AM</a></div><div class=\"quote\">There is one behavior that I've noticed.<br/><br/><b>Block sync stalling.</b><br/><br/>When the client (be it Windows or Linux) has been running for a few days, *sometimes* they get stuck in block limbo. What happens is your client keeps trying to solve the current block and loses track of the entire block system. So as time goes by, other blocks are solved and your PC is still stuck on the same block.<br/><br/>...<br/><br/></div></div>I'm starting to wonder if the two are connected now since the hashing seems to get stuck, maybe that's why it gets stuck on a block.</div>",
        "post_num": 20,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "knightmb",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=345",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8255#msg8255",
        "date": "August 08, 2010, 06:27:50 PM",
        "content": "<div class=\"post\">After testing the 32bit and 64bit builds, the problem I can confirm what was already posted here, it just affects the 64bit builds. When I go back and trace what's being produced, it's the 64bit Linux machines (the 64bit windows machines don't appear to have this problem) that aren't producing any coin since the latest releases. All of the 32bit builds (stock or custom) appear to be just fine.</div>",
        "post_num": 21,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "knightmb",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=345",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8257#msg8257",
        "date": "August 08, 2010, 06:32:27 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8230#msg8230\">Quote from: tcatm on August 08, 2010, 11:56:54 AM</a></div><div class=\"quote\">Did you compile it yourself? There's a define in makefile.unix. Something like -DCRYPTOPP_DISABLE_SSE2. Remove that. Else the SHA256_Transform will return the initstate. I had the same problem when switchting to 0.3.6.<br/></div>This works for the 64bit builds, strange that it has no affect on the 32bit builds? Should it be disabled for 32bit builds as well?</div>",
        "post_num": 22,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "tcatm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=592",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8261#msg8261",
        "date": "August 08, 2010, 06:49:15 PM",
        "content": "<div class=\"post\">I don't really know what it changes. I wonder why the define was made in the first place. The code should be able to determine whether it's running on a SSE2 CPU or not. I discovered it while comparing my 4xSSE2 hash function to the original one in 0.3.6 so it really means, that no 64bit build since 0.3.6 was able to generate any coins. Maybe satoshi can tell us why he put the define in the makefile. </div>",
        "post_num": 23,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "ArtForz",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=584",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8306#msg8306",
        "date": "August 09, 2010, 12:31:45 AM",
        "content": "<div class=\"post\">Just had a \"fun\" gdb session with the official 0.3.8 linux 64 bit binary on debian sid.<br/>Same bug, output state on return from SHA256Transform always == initial state.<br/>So... did someone really generate a block running the official 0.3.8 64 bit linux binary (the one in bin/64)?<br/>Oh, and from a quick glance at the svn changelog, that bug probably has been there since r118 = 0.3.6.<br/>Oh, and who THE FUCK thought stripping the official binary was a good idea? I just wasted half an hour hunting down SHA256Transform in a disassembler.<br/></div>",
        "post_num": 24,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "knightmb",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=345",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8309#msg8309",
        "date": "August 09, 2010, 01:16:31 AM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8306#msg8306\">Quote from: ArtForz on August 09, 2010, 12:31:45 AM</a></div><div class=\"quote\">Just had a \"fun\" gdb session with the official 0.3.8 linux 64 bit binary on debian sid.<br/>Same bug, output state on return from SHA256Transform always == initial state.<br/>So... did someone really generate a block running the official 0.3.8 64 bit linux binary (the one in bin/64)?<br/>Oh, and from a quick glance at the svn changelog, that bug probably has been there since r118 = 0.3.6.<br/>Oh, and who THE FUCK thought stripping the official binary was a good idea? I just wasted half an hour hunting down SHA256Transform in a disassembler.<br/><br/></div><br/>Not on 64bit linux, just 32bit and 64bit everything else in between (Linux/Windows)<br/><br/>I didn't notice until I checked the generation dates against the release dates of the software.<br/><br/>If you don't strip the debug symbols the binary is 8 times it's normal size.</div>",
        "post_num": 25,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lachesis",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=237",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8313#msg8313",
        "date": "August 09, 2010, 02:05:51 AM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8306#msg8306\">Quote from: ArtForz on August 09, 2010, 12:31:45 AM</a></div><div class=\"quote\">Just had a \"fun\" gdb session with the official 0.3.8 linux 64 bit binary on debian sid.<br/>Same bug, output state on return from SHA256Transform always == initial state.<br/>So... did someone really generate a block running the official 0.3.8 64 bit linux binary (the one in bin/64)?<br/>Oh, and from a quick glance at the svn changelog, that bug probably has been there since r118 = 0.3.6.<br/>Oh, and who THE FUCK thought stripping the official binary was a good idea? I just wasted half an hour hunting down SHA256Transform in a disassembler.<br/></div>Nice work mate! Time to PM Satoshi.<br/><br/>Sent you \u0e3f5.01 for your troubles.</div>",
        "post_num": 26,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lfm",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=466",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8342#msg8342",
        "date": "August 09, 2010, 10:04:43 AM",
        "content": "<div class=\"post\">The 32 bit Linux build seems ok for those who don't care to try to build it themselves. It's only a few percent slower than the 64 when built right.<br/><br/>I guess that flag was put in for old 32 bit machines that might not have sse2. Unfortunatly there is no such thing as a 64 bit x86_64 without sse2 so the conditional compilation produced an empty body which did exactly nothing.<br/></div>",
        "post_num": 27,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "lachesis",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=237",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8369#msg8369",
        "date": "August 09, 2010, 03:45:39 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8342#msg8342\">Quote from: lfm on August 09, 2010, 10:04:43 AM</a></div><div class=\"quote\">I guess that flag was put in for old 32 bit machines that might not have sse2. Unfortunatly there is no such thing as a 64 bit x86_64 without sse2 so the conditional compilation produced an empty body which did exactly nothing.<br/></div>Yet another argument for cmake or similar.</div>",
        "post_num": 28,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "satoshi",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=3",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8388#msg8388",
        "date": "August 09, 2010, 06:50:41 PM",
        "content": "<div class=\"post\">I found that SSE2 only added a slight 2% speedup, which didn't seem worth the incompatibility. \u00a0I was trying to take the safer option.<br/><br/>It doesn't look to me like Crypto++ could be deciding whether to use SSE2 at runtime. \u00a0There's one place where it detects SSE2 for deciding some block count parameter, but the SSE2 stuff is all #ifdef at compile time and I can't see how that would switch at runtime. \u00a0Maybe I'm not looking in the right place.<br/><br/>Should we enable SSE2 in all the makefiles? \u00a0It seems like we must in case someone compiles with 64-bit.<br/><br/>I will recompile the 64-bit part of the Linux 0.3.8 release.</div>",
        "post_num": 29,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "knightmb",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=345",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8389#msg8389",
        "date": "August 09, 2010, 07:02:12 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8388#msg8388\">Quote from: satoshi on August 09, 2010, 06:50:41 PM</a></div><div class=\"quote\">I found that SSE2 only added a slight speedup, about 2%, which didn't seem worth the incompatibility.\u00a0 <br/></div>I do the see point because a non-SSE2 machine, the client would crash?<br/><div class=\"quoteheader\">Quote</div><div class=\"quote\">It doesn't look to me like Crypto++ could be deciding whether to use SSE2 at runtime.\u00a0 There's one place where it detects SSE2 for deciding some block count parameter, but the SSE2 stuff is all #ifdef at compile time and I can't see how that would switch at runtime.\u00a0 Maybe I'm not looking in the right place.<br/><br/>Should we enable SSE2 in all the makefiles?\u00a0 It seems like we must in case someone compiles with 64-bit.<br/><br/>I will recompile the 64-bit part of the Linux 0.3.8 release.<br/></div>Depends on which is easier really. If you enable something that is going to break compatibility, the only people who will feel the pain are the non-technical users of the client. From their perspective, it just doesn't work for some reason.<br/><br/>I think some builds notes would be better, example (If compiling on a 64bit system, be sure to do this part).<br/><br/>Have one branch of source that cross-compiles across multiple operating systems is always tricky business.\u00a0 <img alt=\"Grin\" border=\"0\" src=\"https://bitcointalk.org/Smileys/default/grin.gif\"/></div>",
        "post_num": 30,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "dkaparis",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=192",
        "subject": "Re: bitcoin generation broken in 0.3.8?",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8396#msg8396",
        "date": "August 09, 2010, 07:31:37 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=753.msg8369#msg8369\">Quote from: lachesis on August 09, 2010, 03:45:39 PM</a></div><div class=\"quote\">Yet another argument for cmake or similar.<br/></div><br/>It's a <a href=\"http://bitbucket.org/dkaparis/bitcoin-cmake/wiki/Home\">fact</a>.<br/><br/>I intend to eventually sort out all building hassles and have a reliable build procedure across all win/unix 32/64-bit platform combinations.<br/><br/>On that note, I'm currently tackling x64 build for windows and notice that for 64-bit MSVC, the X86_SHA256_HashBlocks function is deferred to an external definition that is not present in the project. In the original CryptoPP library it seems to be in a separate asm module. I wonder how are people building x64 on windows, are they setting defines to use the C-source sha version?<br/></div>",
        "post_num": 31,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 170,
        "name": "satoshi",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=3",
        "subject": "Re: bitcoin generation broken in 0.3.8?  (64-bit)",
        "url": "https://bitcointalk.org/index.php?topic=753.msg8417#msg8417",
        "date": "August 09, 2010, 08:34:06 PM",
        "content": "<div class=\"post\">I uploaded 0.3.8.1 for Linux with re-built 64-bit.\u00a0 I ran a difficulty 1 test with it and it has generated blocks.<br/><br/><a href=\"http://bitcointalk.org/index.php?topic=765.0\">http://bitcointalk.org/index.php?topic=765.0</a><br/><br/>Download:<br/><a href=\"http://sourceforge.net/projects/bitcoin/files/Bitcoin/bitcoin-0.3.8/bitcoin-0.3.8.1-linux.tar.gz/download\">http://sourceforge.net/projects/bitcoin/files/Bitcoin/bitcoin-0.3.8/bitcoin-0.3.8.1-linux.tar.gz/download</a><br/></div>",
        "post_num": 32,
        "is_displayed": true,
        "nested_level": 0
    }
]