[
    {
        "thread_id": 208,
        "name": "icaro",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=1169",
        "subject": "Warning : Check your system clock (help me)",
        "url": "https://bitcointalk.org/index.php?topic=960.msg11773#msg11773",
        "date": "August 31, 2010, 12:55:44 PM",
        "content": "<div class=\"post\">Warning :Check your system data and time , you may not be able to generate or receive the most recent blocks !<br/><br/>What does it mean ? \u00a0 \u00a0<img alt=\"Huh\" border=\"0\" src=\"https://bitcointalk.org/Smileys/default/huh.gif\"/> \u00a0 I'm just with 2 connections and 500 blocks.</div>",
        "post_num": 1,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "MoonShadow",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=643",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg11774#msg11774",
        "date": "August 31, 2010, 01:27:53 PM",
        "content": "<div class=\"post\">If your system clock is too far off, blocks that you create would be rejected, and your client will reject any blocks that it views have been created with a future date.</div>",
        "post_num": 2,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "satoshi",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=3",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg12063#msg12063",
        "date": "September 05, 2010, 11:36:20 PM",
        "content": "<div class=\"post\">Any suggestions for better text to put for this error message so the next person will be less likely to be confused?<br/><br/>It's trying to tell them their clock is wrong and they need to correct it.<br/><br/>It's relying on 3 time sources:<br/>1) the system clock<br/>2) the other nodes, if within an hour of the system clock<br/>if those disagree, then<br/>3) the user (asking the user to fix the system clock)<br/><br/>I've thought about NTP, but this is more secure.</div>",
        "post_num": 3,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "BioMike",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=464",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg12081#msg12081",
        "date": "September 06, 2010, 05:19:29 AM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=960.msg12063#msg12063\">Quote from: satoshi on September 05, 2010, 11:36:20 PM</a></div><div class=\"quote\">I've thought about NTP, but this is more secure.<br/></div><br/>IMHO there is no reason for a modern system to not run a NTP client/daemon.</div>",
        "post_num": 4,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "Insti",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=336",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg12099#msg12099",
        "date": "September 06, 2010, 12:48:08 PM",
        "content": "<div class=\"post\">I dont think the bitcoin client should start bloating itsself with additional NTP client functionality.<br/></div>",
        "post_num": 5,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "Insti",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=336",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg12101#msg12101",
        "date": "September 06, 2010, 12:51:37 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=960.msg12063#msg12063\">Quote from: satoshi on September 05, 2010, 11:36:20 PM</a></div><div class=\"quote\">Any suggestions for better text to put for this error message so the next person will be less likely to be confused?<br/></div><br/>\"Please check that your computers date and time are correct. If your clock is wrong Bitcoin will not work properly.\"<br/><br/><br/><br/></div>",
        "post_num": 6,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "Cdecker",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=49",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg12102#msg12102",
        "date": "September 06, 2010, 12:54:07 PM",
        "content": "<div class=\"post\">I'd go for a small server that returns a unix timestamp, the client fetches it, computes the clock drift (difference in time) and all the protocol related times are based on that drift. The clocks would still drift a little (they'd do it anyway on the system clock) and we would not get perfect synchronization (impossible in distributed systems), but it would solve our current problems.<br/><br/>The code is about 5 lines and some simple math (sums) when calculating the timestamps.</div>",
        "post_num": 7,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "BioMike",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=464",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg12118#msg12118",
        "date": "September 06, 2010, 05:25:18 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=960.msg12099#msg12099\">Quote from: Insti on September 06, 2010, 12:48:08 PM</a></div><div class=\"quote\">I dont think the bitcoin client should start bloating itsself with additional NTP client functionality.<br/><br/></div><br/>Hell no, NTP does a good job. Don't have other services changing the clock (also counts for bitcoin). Right tool for the right job!</div>",
        "post_num": 8,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "satoshi",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=3",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg12132#msg12132",
        "date": "September 06, 2010, 09:41:06 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=960.msg12101#msg12101\">Quote from: Insti on September 06, 2010, 12:51:37 PM</a></div><div class=\"quote\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=960.msg12063#msg12063\">Quote from: satoshi on September 05, 2010, 11:36:20 PM</a></div><div class=\"quote\">Any suggestions for better text to put for this error message so the next person will be less likely to be confused?<br/></div>\"Please check that your computer's date and time are correct. If your clock is wrong Bitcoin will not work properly.\"<br/></div>Thanks.</div>",
        "post_num": 9,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "ribuck",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=392",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg12159#msg12159",
        "date": "September 07, 2010, 11:14:20 AM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=960.msg12132#msg12132\">Quote from: satoshi on September 06, 2010, 09:41:06 PM</a></div><div class=\"quote\">Thanks.<br/></div>Thank <b>you</b> Satoshi for sneaking that possessive apostrophe into \"computer's date\"!</div>",
        "post_num": 10,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "agaumoney",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=400",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg12323#msg12323",
        "date": "September 09, 2010, 04:34:57 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=960.msg12102#msg12102\">Quote from: Cdecker on September 06, 2010, 12:54:07 PM</a></div><div class=\"quote\">I'd go for a small server that returns a unix timestamp, the client fetches it, computes the clock drift (difference in time) and all the protocol related times are based on that drift. The clocks would still drift a little (they'd do it anyway on the system clock) and we would not get perfect synchronization (impossible in distributed systems), but it would solve our current problems.<br/><br/>The code is about 5 lines and some simple math (sums) when calculating the timestamps.<br/></div><br/>Why a server when so many are already out there?<br/><br/>I'd agree that we don't want bitcoin client bloat, and definitely NO WAY the bitcoin client should be setting the system time.<br/><br/>But maybe it is worth it in the error case for the bitcoin client to put a message in the log and attempt to use a network time instead of system time.<br/><br/>As for the servers out there, the bitcoin client already has http, right?\u00a0 Well, most http servers now provide the date in their headers.\u00a0 For example, in python:<br/><div class=\"codeheader\">Code:</div><div class=\"code\">import os, re, urllib<br/>info = urllib.urlopen('http://www.yahoo.com/').info()<br/>regx = r'Date:\\s+[A-Z][a-z]{2}, (\\d{1,2}) ([A-Z][a-z]{2}) (\\d{1,4}) (\\d\\d:\\d\\d:\\d\\d)'<br/>d, M, Y, T = re.search(regx,str(info)).groups()<br/>m = 1+\"JanFebMarAprMayJunJulAugSepOctNovDec\".index(M)/3<br/>print '%04d.%02d.%02d-%s' % (int(Y), m, int(d), T)<br/></div><br/>(that output format happens to work with \"date -us\" if you did want to set some system time)<br/><br/>of course it would be better to check a couple of sites rather than relying on just yahoo to keep their http server time set properly.\u00a0 <img alt=\"Smiley\" border=\"0\" src=\"https://bitcointalk.org/Smileys/default/smiley.gif\"/></div>",
        "post_num": 11,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "Cdecker",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=49",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg13212#msg13212",
        "date": "September 19, 2010, 08:14:08 PM",
        "content": "<div class=\"post\">I think we all agree that setting the system time is a no go, but why can't we just use an offset internally and just circumvent the whole issue? We already have ways to synchronize (approximately) the clients, so why not make use of that?</div>",
        "post_num": 12,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "LZ",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=462",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg13239#msg13239",
        "date": "September 20, 2010, 03:39:55 AM",
        "content": "<div class=\"post\">Agreed. There is no need to set the system time.<br/>We only need to use correct time in the program.</div>",
        "post_num": 13,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 208,
        "name": "satoshi",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=3",
        "subject": "Re: Warning : Check your system   ( Help me )",
        "url": "https://bitcointalk.org/index.php?topic=960.msg13833#msg13833",
        "date": "September 23, 2010, 04:28:25 PM",
        "content": "<div class=\"post\">I don't understand, are you under the impression that the program sets the system clock?\u00a0 It doesn't.<br/><br/><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=960.msg13212#msg13212\">Quote from: Cdecker on September 19, 2010, 08:14:08 PM</a></div><div class=\"quote\">We already have ways to synchronize (approximately) the clients, so why not make use of that?<br/></div>We use an internal offset based on the median of other nodes' times, but for security reasons we don't let them offset us by more than an hour.\u00a0 If they indicate we're off by more than an hour, then we resort to alerting the user to fix their clock.</div>",
        "post_num": 14,
        "is_displayed": true,
        "nested_level": 0
    }
]