[
    {
        "thread_id": 142,
        "name": "jgarzik",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=541",
        "subject": "[PATCH] implement 'xlisttransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6295#msg6295",
        "date": "July 29, 2010, 12:34:53 AM",
        "content": "<div class=\"post\">Here is a patch against SVN 117, implementing 'xlisttransactions' RPC: <a href=\"http://pastebin.ca/1910553\">http://pastebin.ca/1910553</a> \u00a0 At present, the options are ignored, and it dumps all transactions it finds.<br/><br/>Raw patch: <a href=\"http://pastebin.ca/raw/1910553\">http://pastebin.ca/raw/1910553</a><br/><br/><b>Edit</b>: Patch's current home is <a href=\"http://yyz.us/bitcoin/patch.bitcoin-listtransactions\">http://yyz.us/bitcoin/patch.bitcoin-listtransactions</a><br/><br/><b>Edit2</b>: RPC command has been renamed to 'xlisttransactions'<br/><br/></div>",
        "post_num": 1,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "jgarzik",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=541",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6297#msg6297",
        "date": "July 29, 2010, 12:48:34 AM",
        "content": "<div class=\"post\"><br/>Here's an updated version, that sorts by number of confirmations:\u00a0 <a href=\"http://pastebin.ca/1910564\">http://pastebin.ca/1910564</a><br/><br/>Raw patch:\u00a0 <a href=\"http://pastebin.ca/raw/1910564\">http://pastebin.ca/raw/1910564</a><br/><br/></div>",
        "post_num": 2,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "jgarzik",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=541",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6309#msg6309",
        "date": "July 29, 2010, 03:00:24 AM",
        "content": "<div class=\"post\"><br/>OK, here's version 4.\u00a0 Output now matches what you see in the UI, and gives you information on debits/credit/generated/etc.\u00a0 The 'count' and 'includegenerated' parameters are now honored.<br/><br/>Patch: <a href=\"http://pastebin.ca/1910623\">http://pastebin.ca/1910623</a><br/>Raw patch: <a href=\"http://pastebin.ca/raw/1910623\">http://pastebin.ca/raw/1910623</a><br/><br/>Here's sample output from my dev box:<br/><div class=\"codeheader\">Code:</div><div class=\"code\">$ /usr/local/src/bitcoin/bitcoind -datadir=/usr/local/bitcoin/data listtransactions <br/>[<br/>\u00a0 \u00a0 {<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"address\" : \"15uyjNbNzizz5r8UgWpF1ZayV82Pq3FHQ5\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"label\" : \"\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"class\" : \"credit\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"amount\" : 0.02000000000000000,<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"confirmations\" : 160<br/>\u00a0 \u00a0 },<br/>\u00a0 \u00a0 {<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"address\" : \"15uyjNbNzizz5r8UgWpF1ZayV82Pq3FHQ5\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"label\" : \"\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"class\" : \"credit\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"amount\" : 0.01000000000000000,<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"confirmations\" : 162<br/>\u00a0 \u00a0 },<br/>\u00a0 \u00a0 {<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"address\" : \"1GKgKYtV79jYHR2mr1SSDp9EjXQuLTmUTw\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"label\" : \"\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"class\" : \"debit\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"amount\" : 0.02000000000000000,<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"confirmations\" : 1525<br/>\u00a0 \u00a0 },<br/>\u00a0 \u00a0 {<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"address\" : \"191ALqREPdXCGE6mhfS7HqRZCeQB2AHT6y\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"label\" : \"\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"class\" : \"credit\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"amount\" : 0.02000000000000000,<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"confirmations\" : 1531<br/>\u00a0 \u00a0 },<br/>\u00a0 \u00a0 {<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"address\" : \"1HVYQQ5K489fMx5Aqt48M5oTJPsmUhrpkx\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"label\" : \"\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"class\" : \"debit\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"amount\" : 0.01000000000000000,<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"confirmations\" : 1572<br/>\u00a0 \u00a0 },<br/>\u00a0 \u00a0 {<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"address\" : \"1KTpPjGWyhTBC5NNYFwNzkyjW6UDL9jKPG\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"label\" : \"Your Address\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"class\" : \"credit\",<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"amount\" : 0.01000000000000000,<br/>\u00a0 \u00a0 \u00a0 \u00a0 \"confirmations\" : 1587<br/>\u00a0 \u00a0 }<br/>]<br/></div></div>",
        "post_num": 3,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "jgarzik",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=541",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6491#msg6491",
        "date": "July 29, 2010, 09:22:06 PM",
        "content": "<div class=\"post\"><br/>Added a couple small cleanups, and verified it still works under 0.3.6 / SVN r119.<br/><br/>Version 5 of listtransactions: <a href=\"http://pastebin.ca/1911295\">http://pastebin.ca/1911295</a><br/>Raw patch: <a href=\"http://pastebin.ca/raw/1911295\">http://pastebin.ca/raw/1911295</a><br/><br/><br/>FAQ:<br/><br/>Q1) How does 'listtransactions' behave if tail of the block chain changes, eg. 0 confirmations -&gt; 1 confirmation -&gt; 0 confirmations?<br/><br/>A1) 'listtransactions' behaves the same way 'listreceivedbyaddress' behaves...\u00a0 the output changes accordingly.<br/><br/></div>",
        "post_num": 4,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "lachesis",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=237",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6525#msg6525",
        "date": "July 29, 2010, 10:38:49 PM",
        "content": "<div class=\"post\">Very nice! Send Satoshi an email and ask him to add it to trunk.<br/><br/>By the way, anyone having trouble applying this on unix can use:<br/><div class=\"codeheader\">Code:</div><div class=\"code\">curl http://pastebin.ca/raw/1911295 | awk 'sub(\"$\", \"\\r\")' | patch</div>That'll make the line endings on the removed parts match the Windows line endings in the code files.</div>",
        "post_num": 5,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "jgarzik",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=541",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6530#msg6530",
        "date": "July 29, 2010, 10:45:26 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=611.msg6525#msg6525\">Quote from: lachesis on July 29, 2010, 10:38:49 PM</a></div><div class=\"quote\">Very nice! Send Satoshi an email and ask him to add it to trunk.<br/></div><br/>He is welcome to pick it up now.<br/><br/>But I didn't want to push the patch to him until the two FIXME's are resolved.\u00a0 Those FIXMEs are for 0.01% cases, but still...</div>",
        "post_num": 6,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "lachesis",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=237",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6532#msg6532",
        "date": "July 29, 2010, 10:53:00 PM",
        "content": "<div class=\"post\">Could you make count=0 return all transactions?</div>",
        "post_num": 7,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "jgarzik",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=541",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6537#msg6537",
        "date": "July 29, 2010, 11:02:49 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=611.msg6532#msg6532\">Quote from: lachesis on July 29, 2010, 10:53:00 PM</a></div><div class=\"quote\">Could you make count=0 return all transactions?<br/></div><br/>Returning all transactions is pretty easy, sure.<br/><br/>I wonder if a better interface might be to follow 'listreceivedbyaddress' and print everything by default, only applying limits if limits were specified.\u00a0 ie.\u00a0 make your \"count=0\" the default.</div>",
        "post_num": 8,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "lachesis",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=237",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6559#msg6559",
        "date": "July 30, 2010, 12:51:03 AM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=611.msg6537#msg6537\">Quote from: jgarzik on July 29, 2010, 11:02:49 PM</a></div><div class=\"quote\">I wonder if a better interface might be to follow 'listreceivedbyaddress' and print everything by default, only applying limits if limits were specified.\u00a0 ie.\u00a0 make your \"count=0\" the default.<br/></div>Perhaps. In that case, you should switch the order of includegenerated and count. Perhaps even make includegenerated true? Generations are included by default in the UI, after all.</div>",
        "post_num": 9,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "jgarzik",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=541",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6602#msg6602",
        "date": "July 30, 2010, 05:44:23 AM",
        "content": "<div class=\"post\"><br/>Version 6 of listtransactions: <a href=\"http://pastebin.ca/1911570\">http://pastebin.ca/1911570</a><br/>Raw patch: <a href=\"http://pastebin.ca/raw/1911570\">http://pastebin.ca/raw/1911570</a><br/><br/>listtransactions implementation should be complete at this point.\u00a0 The following command syntax is used:<br/><div class=\"codeheader\">Code:</div><div class=\"code\">listtransactions [count=10] [minconf=1] [includegenerated=true]</div><br/>As lachesis suggested, count=0 will dump <i>all</i> transactions.<br/><br/>FAQ:<br/><br/>Q1) How does 'listtransactions' behave if tail of the block chain changes, eg. 0 confirmations -&gt; 1 confirmation -&gt; 0 confirmations?<br/><br/>A1) 'listtransactions' behaves the same way 'listreceivedbyaddress' behaves...\u00a0 the output changes accordingly.</div>",
        "post_num": 10,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "Gavin Andresen",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=224",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6642#msg6642",
        "date": "July 30, 2010, 01:18:06 PM",
        "content": "<div class=\"post\">Couple of quick suggestions:<br/><br/>Using the key name \"class\" will cause problems for, at least, JavaScript, and probably other languages where \"class\" is a reserved word.\u00a0 \"type\" or \"variety\" or some other synonym will cause fewer problems later.<br/><br/>Or, maybe better, get rid of that field and just report credits as positive numbers and debits as negative.\u00a0 And add a separate \"generated\" field (boolean true or false).<br/><br/>Since each entry refers to a transaction, I'd suggest adding a \"tx_id\" SHA256 hex-encoded transaction id.\u00a0 Then listtransactions would play nicely with the refundtransaction JSON-RPC extension (and maybe a future gettransactiondetails that let you get transaction parents, which block the transaction was in, and so on).<br/><br/>Code to get that would look something like:<br/><div class=\"codeheader\">Code:</div><div class=\"code\">\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 uint256 tx_hash = transaction.GetHash();<br/>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 string tx_id = tx_hash.GetHex();<br/>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mapJSONResponse.push_back(Pair(\"tx_id\", tx_id));<br/></div></div>",
        "post_num": 11,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "jgarzik",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=541",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6687#msg6687",
        "date": "July 30, 2010, 06:30:40 PM",
        "content": "<div class=\"post\"><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=611.msg6642#msg6642\">Quote from: gavinandresen on July 30, 2010, 01:18:06 PM</a></div><div class=\"quote\">Couple of quick suggestions:<br/><br/>Using the key name \"class\" will cause problems for, at least, JavaScript, and probably other languages where \"class\" is a reserved word.\u00a0 \"type\" or \"variety\" or some other synonym will cause fewer problems later.<br/></div><br/>Can you be more specific?\u00a0 All mainstream programming language seem sensibly insensitive to abitrary string contents, JS included.\u00a0 String content can certainly include language-reserved keywords and parsing tokens.<br/><br/><div class=\"quoteheader\"><a href=\"https://bitcointalk.org/index.php?topic=611.msg6642#msg6642\">Quote from: gavinandresen on July 30, 2010, 01:18:06 PM</a></div><div class=\"quote\">Since each entry refers to a transaction, I'd suggest adding a \"tx_id\" SHA256 hex-encoded transaction id.\u00a0 Then listtransactions would play nicely with the refundtransaction JSON-RPC extension (and maybe a future gettransactiondetails that let you get transaction parents, which block the transaction was in, and so on).<br/><br/>Code to get that would look something like:<br/><div class=\"codeheader\">Code:</div><div class=\"code\">\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 uint256 tx_hash = transaction.GetHash();<br/>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 string tx_id = tx_hash.GetHex();<br/>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 mapJSONResponse.push_back(Pair(\"tx_id\", tx_id));<br/></div></div><br/>Added, thanks for the suggestion.<br/></div>",
        "post_num": 12,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "jgarzik",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=541",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6694#msg6694",
        "date": "July 30, 2010, 06:43:37 PM",
        "content": "<div class=\"post\"><br/>Here is 'listtransaction' version 7:<br/><a href=\"http://gtf.org/garzik/bitcoin/patch.bitcoin-listtransactions\">http://gtf.org/garzik/bitcoin/patch.bitcoin-listtransactions</a><br/><br/>This adds the suggested txn_id field -- very nice suggestion, gavin!\u00a0 I wanted a unique transaction id, and now I have one <img alt=\"Smiley\" border=\"0\" src=\"https://bitcointalk.org/Smileys/default/smiley.gif\"/><br/></div>",
        "post_num": 13,
        "is_displayed": true,
        "nested_level": 0
    },
    {
        "thread_id": 142,
        "name": "satoshi",
        "poster_url": "https://bitcointalk.org/index.php?action=profile;u=3",
        "subject": "Re: [PATCH] implement 'listtransactions'",
        "url": "https://bitcointalk.org/index.php?topic=611.msg6706#msg6706",
        "date": "July 30, 2010, 07:40:54 PM",
        "content": "<div class=\"post\">What are you needing to use listtransactions for?<br/><br/>The reason I didn't implement listtransactions is I want to make sure web programmers don't use it. \u00a0It would be very easy to latch onto that for watching for received payments. \u00a0There is no reliable way to do it that way and make sure nothing can slip through the cracks. \u00a0Until we have solid example code using getreceivedbyaddress and getreceivedbylabel to point to and say \"use this! use this! don't use listtransactions!\", I don't think we should implement listtransactions.<br/><br/>When we do implement listtransactions, maybe one way to fight that is to make it all text. \u00a0It should not break down the fields into e.g. comment, confirmations, credit, debit. \u00a0It could be one pretty formatted string like \"0/unconfirmed \u00a0 0:0:0 date \u00a0 comment \u00a0 \u00a0 \u00a0debit 4 \u00a0credit 0\" or something so it's hard for programmers to do the wrong thing and process it. \u00a0It's only for viewing the status of your server. \u00a0I guess that would be kinda annoying for web interfaces that would rather format it into html columns though.</div>",
        "post_num": 14,
        "is_displayed": true,
        "nested_level": 0
    }
]